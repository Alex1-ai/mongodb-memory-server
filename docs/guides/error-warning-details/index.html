<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Details for Errors &amp; Warnings | mongodb-memory-server</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://nodkz.github.io/mongodb-memory-server/docs/guides/error-warning-details"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Details for Errors &amp; Warnings | mongodb-memory-server"><meta data-react-helmet="true" name="description" content="StateError"><meta data-react-helmet="true" property="og:description" content="StateError"><link data-react-helmet="true" rel="shortcut icon" href="/mongodb-memory-server/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://nodkz.github.io/mongodb-memory-server/docs/guides/error-warning-details"><link data-react-helmet="true" rel="alternate" href="https://nodkz.github.io/mongodb-memory-server/docs/guides/error-warning-details" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://nodkz.github.io/mongodb-memory-server/docs/guides/error-warning-details" hreflang="x-default"><link rel="stylesheet" href="/mongodb-memory-server/assets/css/styles.7f7ead54.css">
<link rel="preload" href="/mongodb-memory-server/assets/js/runtime~main.3a72f203.js" as="script">
<link rel="preload" href="/mongodb-memory-server/assets/js/main.01453cba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mongodb-memory-server/"><b class="navbar__title">mongodb-memory-server</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/mongodb-memory-server/docs/guides/quick-start-guide">Guides</a><a class="navbar__item navbar__link" href="/mongodb-memory-server/docs/api/index-api">API</a><a href="https://github.com/nodkz/mongodb-memory-server" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Integration Examples</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Miscellaneous</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mongodb-memory-server/docs/guides/enable-debug-mode">Enable Debug Mode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mongodb-memory-server/docs/guides/known-issues">Known Issues</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mongodb-memory-server/docs/guides/error-warning-details">Details for Errors &amp; Warnings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mongodb-memory-server/docs/guides/mongodb-server-versions">Mongodb Server Versions</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Migration</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Details for Errors &amp; Warnings</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="stateerror"></a>StateError<a class="hash-link" href="#stateerror" title="Direct link to heading">#</a></h2><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Incorrect State for operation: &quot;${gotState}&quot;, allowed States: &quot;[${wantedStates.join(&#x27;,&#x27;)}]&quot;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">This may be because of using a v6.x way of calling functions, look at the following guide if anything applies:</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">https://nodkz.github.io/mongodb-memory-server/docs/guides/migrate7#no-function-other-than-start-create-ensureinstance-will-be-starting-anything</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Details:<br>
This Error gets thrown if an function (or setter) is called, but the state is not what it should be.<br>
(like calling start again after already being started - or changing options while running)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="unknownlockfilestatuserror"></a>UnknownLockfileStatusError<a class="hash-link" href="#unknownlockfilestatuserror" title="Direct link to heading">#</a></h2><p>Example: <code>Unknown LockFile Status: &quot;${status}&quot;</code></p><p>Details:<br>
This Error gets thrown if an number outside the <code>LockFileStatus</code> Enum is used</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="unabletounlocklockfileerror"></a>UnableToUnlockLockfileError<a class="hash-link" href="#unabletounlocklockfileerror" title="Direct link to heading">#</a></h2><p>Example: <code>Cannot unlock file &quot;${file}&quot;, because it is not locked by this ${thisInstance ? &#x27;instance&#x27; : &#x27;process&#x27;}</code></p><p>Details:<br>
This Error gets thrown when this package cannot get what platform it is running on</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="unknownarchitectureerror"></a>UnknownArchitectureError<a class="hash-link" href="#unknownarchitectureerror" title="Direct link to heading">#</a></h2><p>Example:</p><ul><li><code>Unsupported Architecture-Platform combination: arch: &quot;${arch}&quot;, platform: &quot;${platform}&quot;</code></li><li><code>Unsupported Architecture: &quot;${arch}&quot;</code></li></ul><p>Details:<br>
This Error gets thrown when this package runs on an unsupported architecture by mongodb</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="unknownplatformerror"></a>UnknownPlatformError<a class="hash-link" href="#unknownplatformerror" title="Direct link to heading">#</a></h2><p>Example: <code>Unknown Platform: &quot;${platform}&quot;</code></p><p>Details:<br>
The Platform <code>${platform}</code> is not supported, only supported platform currently are:</p><ul><li><code>osx</code></li><li><code>win32</code> / <code>windows</code></li><li><code>linux</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="waitforprimarytimeouterror"></a>WaitForPrimaryTimeoutError<a class="hash-link" href="#waitforprimarytimeouterror" title="Direct link to heading">#</a></h2><p>Example: <code>Timed out after ${timeout}ms while waiting for a Primary (where: &quot;${where}&quot;)</code></p><p>Details:<br>
Waiting for a Primary has timedout, this originates from 4 common issues:</p><ul><li>Starting instances failed</li><li>A even number of instances started and are unable to elect a Primary</li><li>Internal Problem</li><li>Target System is too slow to start the number of instances</li></ul><p>Default Timeout: <code>1000 * 30</code> (30 seconds)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="ensureinstanceerror"></a>EnsureInstanceError<a class="hash-link" href="#ensureinstanceerror" title="Direct link to heading">#</a></h2><p>Example:</p><ul><li><code>${baseMesasge} state was &quot;running&quot; but &quot;instanceInfo&quot; was undefined!</code></li><li><code>${baseMesasge} &quot;instanceInfo&quot; was undefined after running &quot;start&quot;</code></li></ul><p>Details:</p><ul><li>First Error Message gets thrown when <code>ensureInstance</code> is called and the <code>state</code> is <code>running</code>, but somehow <code>instanceInfo</code> is <code>undefined</code></li><li>Second Error Message gets thrown when <code>ensureInstance</code> is called and after <code>start</code> was called by <code>ensureInstance</code> and <code>instanceInfo</code> is still <code>undefined</code></li></ul><p>In any case this Error gets thrown, it means that some internal problem happened that was not handled with another Error, please report if your get this error and did not mock anything.</p><p>Also see <a href="#instanceinfoerror"><code>InstanceInfoError</code></a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="nosystembinaryfounderror"></a>NoSystemBinaryFoundError<a class="hash-link" href="#nosystembinaryfounderror" title="Direct link to heading">#</a></h2><p>Example: <code>Config option &quot;SYSTEM_BINARY&quot; was provided with value &quot;${binaryPath}&quot;, but no binary could be found!</code></p><p>Details:<br>
Config Options <a href="/mongodb-memory-server/docs/api/config-options#system_binary"><code>SYSTEM_BINARY</code></a> was set, but no binary could be found at the path <code>${binaryPath}</code>.
Likely causes are:</p><ul><li>No Binary Exists at the specified path</li><li>The Binary is does not have the necessary permissions and is so ignored (required permissions are <code>fs.constants.X_OK</code> (<code>--x</code>))</li></ul><p>Also see:</p><ul><li><a href="#insufficientpermissionserror"><code>InsufficientPermissionsError</code></a></li><li><a href="#binarynotfounderror"><code>BinaryNotFoundError</code></a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="md5checkfailederror"></a>Md5CheckFailedError<a class="hash-link" href="#md5checkfailederror" title="Direct link to heading">#</a></h2><p>Example: <code>MD5 check failed! Binary MD5 is &quot;${binarymd5}&quot;, Checkfile MD5 is &quot;${checkfilemd5}&quot;</code></p><p>Details:<br>
Download MD5 check was enabled (<a href="/mongodb-memory-server/docs/api/config-options#md5_check"><code>MD5_CHECK</code></a>) but failed, listing the local file md5 as <code>${binarymd5}</code> and the downloaded md5 as <code>${checkfilemd5}</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="startbinaryfailederror"></a>StartBinaryFailedError<a class="hash-link" href="#startbinaryfailederror" title="Direct link to heading">#</a></h2><p>Example: <code>Starting the Binary Failed (PID is undefined)! Binary: &quot;${binary}&quot;</code></p><p>Details:<br>
Trying to start the binary <code>${binary}</code> as a childprocess somehow failed by having property <code>pid</code> being <code>undefined</code>.  </p><p>Enable <a href="/mongodb-memory-server/docs/guides/enable-debug-mode">Debug Mode</a> for more information.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="instanceinfoerror"></a>InstanceInfoError<a class="hash-link" href="#instanceinfoerror" title="Direct link to heading">#</a></h2><p>Example: <code>&quot;instanceInfo&quot; was undefined when expected to be defined! (where: &quot;${where}&quot;)</code></p><p>Details:<br>
<code>instanceInfo</code> was <code>undefined</code> when it was expected to have been defined previously. Please Report if this error gets thrown.</p><p>Enable <a href="/mongodb-memory-server/docs/guides/enable-debug-mode">Debug Mode</a> for more information.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="keyfilemissingerror"></a>KeyFileMissingError<a class="hash-link" href="#keyfilemissingerror" title="Direct link to heading">#</a></h2><p>Example: <code>&quot;keyfileLocation&quot; was undefined when expected!</code></p><p>Details:<br>
Option <code>keyfileLocation</code> was <code>undefined</code> when it was needed. This Options is required when starting a <code>MongoInstance</code> and option <code>replSet</code> and <code>auth</code> are set.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="authnotobjecterror"></a>AuthNotObjectError<a class="hash-link" href="#authnotobjecterror" title="Direct link to heading">#</a></h2><p>Example: <code>&quot;auth&quot; was not a object when it was expected!</code></p><p>Details:<br>
Property <code>auth</code> was expect to be of type <code>object</code> (transform happens in the setter for <code>replSetOpts</code>). Please Report if this error gets thrown.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="insufficientpermissionserror"></a>InsufficientPermissionsError<a class="hash-link" href="#insufficientpermissionserror" title="Direct link to heading">#</a></h2><p>Example: <code>File &quot;${path}&quot; does not have the required Permissions, required Permissions: &quot;--x&quot;</code></p><p>Details:<br>
Binary Check was conducted and found that the specified file <code>${path}</code> exists, but does not have the required permissions, required permissions are <code>fs.constants.X_OK</code> (<code>--x</code>).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="binarynotfounderror"></a>BinaryNotFoundError<a class="hash-link" href="#binarynotfounderror" title="Direct link to heading">#</a></h2><p>Example: <code>No Binary at path &quot;${path}&quot; was found! (ENOENT)</code></p><p>Details:<br>
Binary Check was conducted and found that the specified file <code>${path}</code> did not exist (<code>ENOENT</code>), this may be a result of:</p><ul><li>The Binary Download failed without throwing another Error</li><li>The Path generation had a problem</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="assertionfallbackerror"></a>AssertionFallbackError<a class="hash-link" href="#assertionfallbackerror" title="Direct link to heading">#</a></h2><p>Example: <code>Assert failed - no custom error</code></p><p>Details:<br>
This Error gets thrown when no custom error to <code>assertion</code> is given, this should never happen</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="replsetcountlowerror"></a>ReplsetCountLowError<a class="hash-link" href="#replsetcountlowerror" title="Direct link to heading">#</a></h2><p>Example: <code>ReplSet Count needs to be 1 or higher! (specified count: &quot;${count}&quot;)</code></p><p>Details:<br>
ReplSet count (like <code>new MongoMemoryReplSet({ replSet: { count: 0 } })</code>) needs to be <code>1</code> or higher</p></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/nodkz/mongodb-memory-server/edit/master/docs/../docs/guides/error-warning-details.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mongodb-memory-server/docs/guides/known-issues"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Known Issues</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/mongodb-memory-server/docs/guides/mongodb-server-versions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mongodb Server Versions Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#stateerror" class="table-of-contents__link">StateError</a></li><li><a href="#unknownlockfilestatuserror" class="table-of-contents__link">UnknownLockfileStatusError</a></li><li><a href="#unabletounlocklockfileerror" class="table-of-contents__link">UnableToUnlockLockfileError</a></li><li><a href="#unknownarchitectureerror" class="table-of-contents__link">UnknownArchitectureError</a></li><li><a href="#unknownplatformerror" class="table-of-contents__link">UnknownPlatformError</a></li><li><a href="#waitforprimarytimeouterror" class="table-of-contents__link">WaitForPrimaryTimeoutError</a></li><li><a href="#ensureinstanceerror" class="table-of-contents__link">EnsureInstanceError</a></li><li><a href="#nosystembinaryfounderror" class="table-of-contents__link">NoSystemBinaryFoundError</a></li><li><a href="#md5checkfailederror" class="table-of-contents__link">Md5CheckFailedError</a></li><li><a href="#startbinaryfailederror" class="table-of-contents__link">StartBinaryFailedError</a></li><li><a href="#instanceinfoerror" class="table-of-contents__link">InstanceInfoError</a></li><li><a href="#keyfilemissingerror" class="table-of-contents__link">KeyFileMissingError</a></li><li><a href="#authnotobjecterror" class="table-of-contents__link">AuthNotObjectError</a></li><li><a href="#insufficientpermissionserror" class="table-of-contents__link">InsufficientPermissionsError</a></li><li><a href="#binarynotfounderror" class="table-of-contents__link">BinaryNotFoundError</a></li><li><a href="#assertionfallbackerror" class="table-of-contents__link">AssertionFallbackError</a></li><li><a href="#replsetcountlowerror" class="table-of-contents__link">ReplsetCountLowError</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mongodb-memory-server" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/bgCrRP9" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/nodkz/mongodb-memory-server" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/mongodb-memory-server/assets/js/runtime~main.3a72f203.js"></script>
<script src="/mongodb-memory-server/assets/js/main.01453cba.js"></script>
</body>
</html>